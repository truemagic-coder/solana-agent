

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Solana Agent Documentation &mdash; Solana Agent 18.0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=269c65a3"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            Solana Agent
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Solana Agent</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Solana Agent Documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="solana-agent-documentation">
<h1>Solana Agent Documentation<a class="headerlink" href="#solana-agent-documentation" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/index.html#module-solana_agent.client.solana_agent">Solana Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/index.html#module-solana_agent.plugins.manager">Tools</a></li>
</ul>
</li>
</ul>
</div>
<p>Welcome to Solana Agent’s documentation. Solana Agent enables you to build an AI business in three lines of code!</p>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading"></a></h2>
<section id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>solana-agent
</pre></div>
</div>
</section>
<section id="flows">
<h3>Flows<a class="headerlink" href="#flows" title="Link to this heading"></a></h3>
<p>In both flows of single and multiple agents - it is one user query to one agent using one or many tools (if needed).</p>
<p>An agent can have multiple tools and will choose the best ones to fulfill the user’s query.</p>
<p>Routing is determined by optimal domain expertise of the agent for the user’s query.</p>
<p>When the agent uses tools it feeds the tools output back to itself to generate the final response.</p>
<p>This is important as tools generally output unstructured and unformatted data that the agent needs to prepare for the user.</p>
<p>Keep this in mind while designing your agentic systems using Solana Agent.</p>
<div class="highlight-ascii notranslate"><div class="highlight"><pre><span></span>                     Single Agent

   ┌────────┐        ┌─────────┐        ┌────────-┐
   │        │        │         │        │         │
   │        │        │         │        │         │
   │  User  │◄──────►│  Agent  │◄──────►│  Tools  │
   │        │        │         │        │         │
   │        │        │         │        │         │
   └────────┘        └─────────┘        └────────-┘





                     Multiple Agents

     ┌────────┐        ┌──────────┐        ┌─────────┐        ┌────────-┐
     │        │        │          │        │         │        │         │
     │        │        │          │        │         │        │         │
┌───►│  User  ├───────►│  Router  ├───────►│  Agent  │◄──────►│  Tools  │
│    │        │        │          │        │         │        │         │
│    │        │        │          │        │         │        │         │
│    └────────┘        └──────────┘        └────┬────┘        └────────-┘
│                                               │
│                                               │
│                                               │
│                                               │
└───────────────────────────────────────────────┘
</pre></div>
</div>
</section>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h3>
</section>
<section id="text-text-streaming">
<h3>Text/Text Streaming<a class="headerlink" href="#text-text-streaming" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;research_specialist&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an expert researcher who synthesizes complex information clearly.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Research and knowledge synthesis&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;customer_support&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You provide friendly, helpful customer support responses.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Customer inquiries&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;What are the latest AI developments?&quot;</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="audio-audio-streaming">
<h3>Audio/Audio Streaming<a class="headerlink" href="#audio-audio-streaming" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;research_specialist&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an expert researcher who synthesizes complex information clearly.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Research and knowledge synthesis&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;customer_support&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You provide friendly, helpful customer support responses.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Customer inquiries&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="n">audio_content</span> <span class="o">=</span> <span class="n">audio_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="n">audio_content</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span><span class="p">,</span> <span class="n">audio_voice</span><span class="o">=</span><span class="s2">&quot;nova&quot;</span><span class="p">,</span> <span class="n">audio_input_format</span><span class="o">=</span><span class="s2">&quot;webm&quot;</span><span class="p">,</span> <span class="n">audio_output_format</span><span class="o">=</span><span class="s2">&quot;aac&quot;</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="text-audio-streaming">
<h3>Text/Audio Streaming<a class="headerlink" href="#text-audio-streaming" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;research_specialist&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an expert researcher who synthesizes complex information clearly.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Research and knowledge synthesis&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;customer_support&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You provide friendly, helpful customer support responses.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Customer inquiries&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;What is the latest news on Elon Musk?&quot;</span><span class="p">,</span> <span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span><span class="p">,</span> <span class="n">audio_voice</span><span class="o">=</span><span class="s2">&quot;nova&quot;</span><span class="p">,</span> <span class="n">audio_output_format</span><span class="o">=</span><span class="s2">&quot;aac&quot;</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="audio-text-streaming">
<h3>Audio/Text Streaming<a class="headerlink" href="#audio-text-streaming" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;research_specialist&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an expert researcher who synthesizes complex information clearly.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Research and knowledge synthesis&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;customer_support&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You provide friendly, helpful customer support responses.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Customer inquiries&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="n">audio_content</span> <span class="o">=</span> <span class="n">audio_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="n">audio_content</span><span class="p">,</span> <span class="n">audio_input_format</span><span class="o">=</span><span class="s2">&quot;aac&quot;</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="image-text-streaming">
<h3>Image/Text Streaming<a class="headerlink" href="#image-text-streaming" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;vision_expert&quot;</span><span class="p">,</span>
            <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an expert at analyzing images and answering questions about them.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Image analysis&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="c1"># Example with an image URL</span>
<span class="n">image_url</span> <span class="o">=</span> <span class="s2">&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg&quot;</span>

<span class="c1"># Example reading image bytes from a file</span>
<span class="n">image_bytes</span> <span class="o">=</span> <span class="k">await</span> <span class="n">image_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># You can mix URLs and bytes in the list</span>
<span class="n">images_to_process</span> <span class="o">=</span> <span class="p">[</span>
   <span class="n">image_url</span><span class="p">,</span>
   <span class="n">image_bytes</span><span class="p">,</span>
<span class="p">]</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;What is in this image? Describe the scene.&quot;</span><span class="p">,</span> <span class="n">images</span><span class="o">=</span><span class="n">images_to_process</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="structured-outputs">
<h3>Structured Outputs<a class="headerlink" href="#structured-outputs" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;researcher&quot;</span><span class="p">,</span>
            <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a research expert.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Researcher&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ResearchProposal</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
   <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
   <span class="n">abstract</span><span class="p">:</span> <span class="nb">str</span>
   <span class="n">key_points</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>

<span class="n">full_response</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;Research the life of Ben Franklin - the founding Father.&quot;</span><span class="p">,</span> <span class="n">output_model</span><span class="o">=</span><span class="n">ResearchProposal</span><span class="p">):</span>
   <span class="n">full_response</span> <span class="o">=</span> <span class="n">response</span>

<span class="nb">print</span><span class="p">(</span><span class="n">full_response</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
</pre></div>
</div>
</section>
<section id="command-line-interface-cli">
<h3>Command Line Interface (CLI)<a class="headerlink" href="#command-line-interface-cli" title="Link to this heading"></a></h3>
<p>Solana Agent includes a command-line interface (CLI) for text-based chat using a configuration file.</p>
<p>Ensure you have a valid configuration file (e.g., <cite>config.json</cite>) containing at least your OpenAI API key and agent definitions.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="c1">// config.json</span>
<span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;openai&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;api_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;your-openai-api-key&quot;</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;agents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default_agent&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;instructions&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;You are a helpful AI assistant.&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;specialization&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;general&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also ensure that you have <cite>pip install uv</cite> to call <cite>uvx</cite>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>uvx<span class="w"> </span>solana-agent<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>

Options:

--user-id<span class="w"> </span>TEXT:<span class="w"> </span>The<span class="w"> </span>user<span class="w"> </span>ID<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>conversation<span class="w"> </span><span class="o">(</span>default:<span class="w"> </span>cli_user<span class="o">)</span>.
--config<span class="w"> </span>TEXT:<span class="w"> </span>Path<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>JSON<span class="w"> </span>file<span class="w"> </span><span class="o">(</span>default:<span class="w"> </span>config.json<span class="o">)</span>.
--prompt<span class="w"> </span>TEXT:<span class="w"> </span>Optional<span class="w"> </span>system<span class="w"> </span>prompt<span class="w"> </span>override<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>agent.
--help:<span class="w"> </span>Show<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span>exit.

<span class="c1"># Using default config.json and user_id</span>
uvx<span class="w"> </span>solana-agent

<span class="c1"># Specifying user ID and config path</span>
uvx<span class="w"> </span>solana-agent<span class="w"> </span>--user-id<span class="w"> </span>my_cli_session<span class="w"> </span>--config<span class="w"> </span>./my_agent_config.json
</pre></div>
</div>
</section>
<section id="optional-configurations">
<h3>Optional Configurations<a class="headerlink" href="#optional-configurations" title="Link to this heading"></a></h3>
</section>
<section id="business-alignment-optional">
<h3>Business Alignment - Optional<a class="headerlink" href="#business-alignment-optional" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;business&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;mission&quot;</span><span class="p">:</span> <span class="s2">&quot;To provide users with a one-stop shop for their queries.&quot;</span><span class="p">,</span>
      <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;Friendliness&quot;</span><span class="p">:</span> <span class="s2">&quot;Users must be treated fairly, openly, and with friendliness.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Ethical&quot;</span><span class="p">:</span> <span class="s2">&quot;Agents must use a strong ethical framework in their interactions with users.&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="s2">&quot;goals&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;Empower users with great answers to their queries.&quot;</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="s2">&quot;voice&quot;</span><span class="p">:</span> <span class="s2">&quot;The voice of the brand is that of a research business.&quot;</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="conversational-history-optional">
<h3>Conversational History - Optional<a class="headerlink" href="#conversational-history-optional" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;mongo&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;connection_string&quot;</span><span class="p">:</span> <span class="s2">&quot;your-mongo-connection-string&quot;</span><span class="p">,</span>
      <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;your-database-name&quot;</span><span class="p">,</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="conversational-memory-optional">
<h3>Conversational Memory - Optional<a class="headerlink" href="#conversational-memory-optional" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;zep&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-zep-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="observability-and-tracing-optional">
<h3>Observability and Tracing - Optional<a class="headerlink" href="#observability-and-tracing-optional" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;logfire&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-logfire-write-token&quot;</span><span class="p">,</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="knowledge-base-optional">
<h3>Knowledge Base - Optional<a class="headerlink" href="#knowledge-base-optional" title="Link to this heading"></a></h3>
<p>The Knowledge Base (KB) is meant to store text values and/or small PDFs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;knowledge_base&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;pinecone&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-pinecone-api-key&quot;</span><span class="p">,</span>
            <span class="s2">&quot;index_name&quot;</span><span class="p">:</span> <span class="s2">&quot;your-pinecone-index-name&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="s2">&quot;mongo&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;connection_string&quot;</span><span class="p">:</span> <span class="s2">&quot;your-mongo-connection-string&quot;</span><span class="p">,</span>
      <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;your-database-name&quot;</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="example-for-kb-text-optional">
<h3>Example for KB (text) - Optional<a class="headerlink" href="#example-for-kb-text-optional" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;knowledge_base&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;pinecone&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-pinecone-api-key&quot;</span><span class="p">,</span>
            <span class="s2">&quot;index_name&quot;</span><span class="p">:</span> <span class="s2">&quot;your-pinecone-index-name&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="s2">&quot;mongo&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;connection_string&quot;</span><span class="p">:</span> <span class="s2">&quot;your-mongo-connection-string&quot;</span><span class="p">,</span>
      <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;your-database-name&quot;</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;kb_expert&quot;</span><span class="p">,</span>
            <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You answer questions based on the provided knowledge base documents.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Company Knowledge&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="n">doc_text</span> <span class="o">=</span> <span class="s2">&quot;Solana Agent is a Python framework for building multi-agent AI systems.&quot;</span>
<span class="n">doc_metadata</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;internal_docs&quot;</span><span class="p">,</span>
   <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
   <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;framework&quot;</span><span class="p">,</span> <span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;ai&quot;</span><span class="p">]</span>
<span class="p">}</span>
<span class="k">await</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">kb_add_document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">doc_text</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">doc_metadata</span><span class="p">)</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;What is Solana Agent?&quot;</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="example-for-kb-pdf-optional">
<h3>Example for KB (pdf) - Optional<a class="headerlink" href="#example-for-kb-pdf-optional" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;knowledge_base&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;pinecone&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-pinecone-api-key&quot;</span><span class="p">,</span>
            <span class="s2">&quot;index_name&quot;</span><span class="p">:</span> <span class="s2">&quot;your-pinecone-index-name&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="s2">&quot;mongo&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;connection_string&quot;</span><span class="p">:</span> <span class="s2">&quot;your-mongo-connection-string&quot;</span><span class="p">,</span>
      <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;your-database-name&quot;</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;kb_expert&quot;</span><span class="p">,</span>
            <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You answer questions based on the provided knowledge base documents.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Company Knowledge&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="n">pdf_bytes</span> <span class="o">=</span> <span class="k">await</span> <span class="n">pdf_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">pdf_metadata</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;annual_report_2024.pdf&quot;</span><span class="p">,</span>
   <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="mi">2024</span><span class="p">,</span>
   <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;finance&quot;</span><span class="p">,</span> <span class="s2">&quot;report&quot;</span><span class="p">]</span>
<span class="p">}</span>

<span class="k">await</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">kb_add_pdf_document</span><span class="p">(</span>
   <span class="n">pdf_data</span><span class="o">=</span><span class="n">pdf_bytes</span><span class="p">,</span>
   <span class="n">metadata</span><span class="o">=</span><span class="n">pdf_metadata</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;Summarize the annual report for 2024.&quot;</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="guardrails-optional">
<h3>Guardrails - Optional<a class="headerlink" href="#guardrails-optional" title="Link to this heading"></a></h3>
<p>Guardrails allow you to process and potentially modify user input before it reaches the agent (Input Guardrails) and agent output before it’s sent back to the user (Output Guardrails). This is useful for implementing safety checks, content moderation, data sanitization, or custom transformations.</p>
<p>Guardrails don’t apply to structured outputs.</p>
<p>Solana Agent provides a built-in PII scrubber based on scrubadub.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;guardrails&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;input&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="c1"># Example using a custom input guardrail</span>
            <span class="p">{</span>
               <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;MyInputGuardrail&quot;</span><span class="p">,</span>
               <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;setting1&quot;</span><span class="p">:</span> <span class="s2">&quot;value1&quot;</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="c1"># Example using the built-in PII guardrail for input</span>
            <span class="p">{</span>
               <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;solana_agent.guardrails.pii.PII&quot;</span><span class="p">,</span>
               <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="s2">&quot;locale&quot;</span><span class="p">:</span> <span class="s2">&quot;en_GB&quot;</span><span class="p">,</span> <span class="c1"># Optional: Specify locale (default: en_US)</span>
                  <span class="s2">&quot;replacement&quot;</span><span class="p">:</span> <span class="s2">&quot;[REDACTED]&quot;</span> <span class="c1"># Optional: Custom replacement format</span>
               <span class="p">}</span>
            <span class="p">}</span>
      <span class="p">],</span>
      <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="c1"># Example using a custom output guardrail</span>
            <span class="p">{</span>
               <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;MyOutputGuardrail&quot;</span><span class="p">,</span>
               <span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;filter_level&quot;</span><span class="p">:</span> <span class="s2">&quot;high&quot;</span><span class="p">}</span>
            <span class="p">},</span>
            <span class="c1"># Example using the built-in PII guardrail for output (with defaults)</span>
            <span class="p">{</span>
               <span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;solana_agent.guardrails.pii.PII&quot;</span>
               <span class="c1"># No config needed to use defaults</span>
            <span class="p">}</span>
      <span class="p">]</span>
   <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="example-custom-guardrails-optional">
<h3>Example Custom Guardrails - Optional<a class="headerlink" href="#example-custom-guardrails-optional" title="Link to this heading"></a></h3>
<p>Guardrails don’t apply to structured outputs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">InputGuardrail</span><span class="p">,</span> <span class="n">OutputGuardrail</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyInputGuardrail</span><span class="p">(</span><span class="n">InputGuardrail</span><span class="p">):</span>
   <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
      <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">setting1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;setting1&quot;</span><span class="p">,</span> <span class="s2">&quot;default_value&quot;</span><span class="p">)</span>
      <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MyInputGuardrail initialized with setting1: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">setting1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

   <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
      <span class="c1"># Example: Convert input to lowercase</span>
      <span class="n">processed_text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
      <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Input Guardrail processed: </span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">processed_text</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">processed_text</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyOutputGuardrail</span><span class="p">(</span><span class="n">OutputGuardrail</span><span class="p">):</span>
   <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
      <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">filter_level</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;filter_level&quot;</span><span class="p">,</span> <span class="s2">&quot;low&quot;</span><span class="p">)</span>
      <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MyOutputGuardrail initialized with filter_level: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_level</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

   <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
      <span class="c1"># Example: Basic profanity filtering (replace with a real library)</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_level</span> <span class="o">==</span> <span class="s2">&quot;high&quot;</span> <span class="ow">and</span> <span class="s2">&quot;badword&quot;</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">processed_text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;badword&quot;</span><span class="p">,</span> <span class="s2">&quot;*******&quot;</span><span class="p">)</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Output Guardrail filtered content.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">processed_text</span>
      <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Output Guardrail passed text through.&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">text</span>
</pre></div>
</div>
</section>
<section id="tools">
<h3>Tools<a class="headerlink" href="#tools" title="Link to this heading"></a></h3>
</section>
<section id="solana-agent-kit">
<h3>Solana Agent Kit<a class="headerlink" href="#solana-agent-kit" title="Link to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>sakit
</pre></div>
</div>
</section>
<section id="inline-tool-example">
<h3>Inline Tool Example<a class="headerlink" href="#inline-tool-example" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span><span class="p">,</span> <span class="n">Tool</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TestTool</span><span class="p">(</span><span class="n">Tool</span><span class="p">):</span>
   <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="c1"># your tool initialization - delete the following pass</span>
      <span class="k">pass</span>

   <span class="nd">@property</span>
   <span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">&quot;test_function&quot;</span>

   <span class="nd">@property</span>
   <span class="k">def</span><span class="w"> </span><span class="nf">description</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">&quot;Test function for Solana Agent&quot;</span>

   <span class="k">def</span><span class="w"> </span><span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">      </span><span class="sd">&quot;&quot;&quot;Configure with all possible API key locations.&quot;&quot;&quot;</span>
      <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

      <span class="c1"># read your config values - delete the following pass</span>
      <span class="k">pass</span>

   <span class="k">def</span><span class="w"> </span><span class="nf">get_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
      <span class="c1"># this is an example schema</span>
      <span class="k">return</span> <span class="p">{</span>
         <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
         <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Search query text&quot;</span><span class="p">},</span>
            <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;User ID for the search session&quot;</span><span class="p">}</span>
         <span class="p">},</span>
         <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;query&quot;</span><span class="p">,</span> <span class="s2">&quot;user_id&quot;</span><span class="p">],</span>
         <span class="s2">&quot;additionalProperties&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
      <span class="p">}</span>

   <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
      <span class="k">try</span><span class="p">:</span>
         <span class="c1"># your tool logic</span>
         <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;Your tool results&quot;</span>

         <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
            <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">result</span><span class="p">,</span>
         <span class="p">}</span>
      <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
         <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;error&quot;</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
         <span class="p">}</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;research_specialist&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an expert researcher who synthesizes complex information clearly.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Research and knowledge synthesis&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;customer_support&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You provide friendly, helpful customer support responses.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Customer inquiries&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="n">test_tool</span> <span class="o">=</span> <span class="n">TestTool</span><span class="p">()</span>

<span class="n">solana_agent</span><span class="o">.</span><span class="n">register_tool</span><span class="p">(</span><span class="n">test_tool</span><span class="p">)</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;What are the latest AI developments?&quot;</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="advanced-configuration">
<h3>Advanced Configuration<a class="headerlink" href="#advanced-configuration" title="Link to this heading"></a></h3>
</section>
<section id="prompt-injection-at-runtime-example">
<h3>Prompt Injection at Runtime Example<a class="headerlink" href="#prompt-injection-at-runtime-example" title="Link to this heading"></a></h3>
<p>Useful for Knowledge Base answers and FAQs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;research_specialist&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an expert researcher who synthesizes complex information clearly.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Research and knowledge synthesis&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;customer_support&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You provide friendly, helpful customer support responses.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Customer inquiries&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;What are the latest AI developments?&quot;</span><span class="p">,</span> <span class="s2">&quot;Always end your sentences with eh?&quot;</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="custom-routing-example">
<h3>Custom Routing Example<a class="headerlink" href="#custom-routing-example" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolanaAgent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">solana_agent.interfaces.services.routing</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoutingService</span> <span class="k">as</span> <span class="n">RoutingServiceInterface</span>

<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;openai&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-openai-api-key&quot;</span><span class="p">,</span>
   <span class="p">},</span>
   <span class="s2">&quot;agents&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;research_specialist&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You are an expert researcher who synthesizes complex information clearly.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Research and knowledge synthesis&quot;</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;customer_support&quot;</span><span class="p">,</span>
         <span class="s2">&quot;instructions&quot;</span><span class="p">:</span> <span class="s2">&quot;You provide friendly, helpful customer support responses.&quot;</span><span class="p">,</span>
         <span class="s2">&quot;specialization&quot;</span><span class="p">:</span> <span class="s2">&quot;Customer inquiries&quot;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">],</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Router</span><span class="p">(</span><span class="n">RoutingServiceInterface</span><span class="p">)</span>
   <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="c1"># your router initialization - delete the following pass</span>
      <span class="k">pass</span>

   <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">route_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
      <span class="c1"># a simple example to route always to customer_support agent</span>
      <span class="k">return</span> <span class="s2">&quot;customer_support&quot;</span>

<span class="n">router</span> <span class="o">=</span> <span class="n">Router</span><span class="p">()</span>

<span class="n">solana_agent</span> <span class="o">=</span> <span class="n">SolanaAgent</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="n">solana_agent</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;user123&quot;</span><span class="p">,</span> <span class="s2">&quot;What are the latest AI developments?&quot;</span><span class="p">,</span> <span class="n">router</span><span class="o">=</span><span class="n">router</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h2>
<p>Check out the <a class="reference internal" href="api/index.html"><span class="doc">API Reference</span></a> for detailed documentation of all modules and classes.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api/index.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Bevan Hunt.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>